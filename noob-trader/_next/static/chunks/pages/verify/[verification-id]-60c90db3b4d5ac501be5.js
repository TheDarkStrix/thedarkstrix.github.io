(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[948],{3225:function(n,t,r){"use strict";var e=r(418),i=r.n(e),o=r(5893);t.Z=function(n){var t=n.inverted,r=n.size;return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{className:i().loading,children:(0,o.jsx)("img",{style:{height:r?r+"px":"34px"},src:t?"./images/common/loading/spinner-inverted.svg":"./images/common/loading/spinner.svg"})})})}},4006:function(n,t,r){"use strict";r.d(t,{a$:function(){return m},pH:function(){return g},NK:function(){return p},n0:function(){return h},vZ:function(){return y},MH:function(){return w},Cz:function(){return $},Hj:function(){return k},c0:function(){return x}});var e,i,o,a,s,u,c,l,d,f=r(2209),v=r(1429),m=(r(3677),(0,v.Ps)(e||(e=(0,f.Z)(["\n  mutation register(\n    $email: String!\n    $firstName: String!\n    $lastName: String\n    $password: String!\n    $country: String!\n  ) {\n    register(\n      input: {\n        email: $email\n        firstName: $firstName\n        lastName: $lastName\n        password: $password\n        country: $country\n      }\n    ) {\n      accessToken\n      user {\n        email\n        role\n        uuid\n      }\n    }\n  }\n"])))),g=(0,v.Ps)(i||(i=(0,f.Z)(["\n  mutation register($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      accessToken\n      twofaToken\n      twofaType\n      user {\n        email\n        role\n        uuid\n      }\n    }\n  }\n"]))),p=(0,v.Ps)(o||(o=(0,f.Z)(["\n  mutation validateEmailVerification($token: String!) {\n    validateEmailVerification(token: $token) {\n      status\n      message\n      data\n    }\n  }\n"]))),h=(0,v.Ps)(a||(a=(0,f.Z)(["\n  mutation validateResetPassword($token: String!) {\n    verifyResetPasswordToken(token: $token) {\n      status\n      message\n      data\n    }\n  }\n"]))),y=(0,v.Ps)(s||(s=(0,f.Z)(["\n  mutation sendVerificationCode {\n    sendVerificationCode {\n      status\n      message\n    }\n  }\n"]))),w=(0,v.Ps)(u||(u=(0,f.Z)(["\n  mutation loginUsing2FA {\n    login2fa {\n      accessToken\n      user {\n        email\n        role\n        uuid\n      }\n      twofaToken\n      twofaType\n    }\n  }\n"]))),$=(0,v.Ps)(c||(c=(0,f.Z)(["\n  query fetchTestimonials($attrList: StringArray!) {\n    configs(attrList: $attrList) {\n      attr\n      value\n    }\n  }\n"]))),k=(0,v.Ps)(l||(l=(0,f.Z)(["\n  mutation sendResetPassword($email: String) {\n    sendResetPassword(email: $email) {\n      status\n      message\n      data\n    }\n  }\n"]))),x=(0,v.Ps)(d||(d=(0,f.Z)(["\n  mutation sendResetPassword($token: String!, $password: String!) {\n    resetPassword(token: $token, password: $password) {\n      status\n      message\n      data\n    }\n  }\n"])))},7722:function(n,t,r){"use strict";r.r(t),r.d(t,{__N_SSG:function(){return g},default:function(){return p}});var e=r(266),i=r(318),o=r(809),a=r.n(o),s=r(319),u=r(1163),c=r(7294),l=r(582),d=r(4006),f=r(3225),v=r(5893),m=function(n){var t=n.verificationId,r=(0,u.useRouter)(),o=(0,s.D)(d.NK),m=(0,i.Z)(o,1)[0],g=(0,c.useState)(!1),p=(g[0],g[1],function(){var n=(0,e.Z)(a().mark((function n(){var e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,m({variables:{token:t}});case 3:(e=n.sent).errors&&null==e.data?(l.ZP.error(e.errors[0].message),r.push("/login?verify=false")):e.data&&r.push("/login?verify=true"),n.next=11;break;case 7:n.prev=7,n.t0=n.catch(0),r.push("/login?verify=false"),l.ZP.error("Error validating token");case 11:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}());return(0,c.useEffect)((function(){p()}),[t]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{style:{height:"90vh"},children:(0,v.jsxs)("div",{className:"h-100 d-flex align-items-center justify-content-center flex-column",children:[(0,v.jsx)("div",{children:(0,v.jsx)("img",{width:"180",src:"./images/common/logo.svg"})}),(0,v.jsx)("h3",{className:"my-3",children:"Verifying account ..."}),(0,v.jsx)("div",{children:(0,v.jsx)(f.Z,{inverted:!0,size:48})})]})}),"s"]})},g=!0,p=function(n){return(0,v.jsx)(m,{verificationId:n.verificationId})}},2210:function(n,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/verify/[verification-id]",function(){return r(7722)}])},418:function(n){n.exports={loading:"loading_loading__2ua4e",rotating:"loading_rotating__36-Ig"}},1163:function(n,t,r){n.exports=r(4651)},319:function(n,t,r){"use strict";r.d(t,{D:function(){return l}});var e=r(655),i=r(7294),o=r(4012),a=r(20),s=r(4692),u=r(990),c=r(6252);function l(n,t){var r=(0,c.x)(null===t||void 0===t?void 0:t.client);(0,s.Vp)(n,s.n_.Mutation);var l=(0,i.useState)({called:!1,loading:!1,client:r}),d=l[0],f=l[1],v=(0,i.useRef)({result:d,mutationId:0,isMounted:!0,client:r,mutation:n,options:t});Object.assign(v.current,{client:r,options:t,mutation:n});var m=(0,i.useCallback)((function(n){void 0===n&&(n={});var t=v.current,r=t.options,i=t.mutation,s=(0,e.pi)((0,e.pi)({},r),{mutation:i}),c=n.client||v.current.client;v.current.result.loading||s.ignoreResults||!v.current.isMounted||f(v.current.result={loading:!0,error:void 0,data:void 0,called:!0,client:c});var l=++v.current.mutationId,d=(0,o.J)(s,n);return c.mutate(d).then((function(t){var r,e=t.data,i=t.errors,o=i&&i.length>0?new u.cA({graphQLErrors:i}):void 0;if(l===v.current.mutationId&&!d.ignoreResults){var s={called:!0,loading:!1,data:e,error:o,client:c};v.current.isMounted&&!(0,a.D)(v.current.result,s)&&f(v.current.result=s)}var m=n.onCompleted||(null===(r=v.current.options)||void 0===r?void 0:r.onCompleted);return null===m||void 0===m||m(t.data,d),t})).catch((function(t){var r;if(l===v.current.mutationId&&v.current.isMounted){var e={loading:!1,error:t,data:void 0,called:!0,client:c};(0,a.D)(v.current.result,e)||f(v.current.result=e)}var i=n.onError||(null===(r=v.current.options)||void 0===r?void 0:r.onError);if(i)return i(t,d),{data:void 0,errors:t};throw t}))}),[]),g=(0,i.useCallback)((function(){v.current.isMounted&&f({called:!1,loading:!1,client:r})}),[]);return(0,i.useEffect)((function(){return v.current.isMounted=!0,function(){v.current.isMounted=!1}}),[]),[m,(0,e.pi)({reset:g},d)]}},6586:function(n,t,r){"use strict";function e(n,t){(null==t||t>n.length)&&(t=n.length);for(var r=0,e=new Array(t);r<t;r++)e[r]=n[r];return e}r.d(t,{Z:function(){return e}})},266:function(n,t,r){"use strict";function e(n,t,r,e,i,o,a){try{var s=n[o](a),u=s.value}catch(c){return void r(c)}s.done?t(u):Promise.resolve(u).then(e,i)}function i(n){return function(){var t=this,r=arguments;return new Promise((function(i,o){var a=n.apply(t,r);function s(n){e(a,i,o,s,u,"next",n)}function u(n){e(a,i,o,s,u,"throw",n)}s(void 0)}))}}r.d(t,{Z:function(){return i}})},318:function(n,t,r){"use strict";r.d(t,{Z:function(){return i}});var e=r(6988);function i(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var r=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=r){var e,i,o=[],a=!0,s=!1;try{for(r=r.call(n);!(a=(e=r.next()).done)&&(o.push(e.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}}(n,t)||(0,e.Z)(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},6988:function(n,t,r){"use strict";r.d(t,{Z:function(){return i}});var e=r(6586);function i(n,t){if(n){if("string"===typeof n)return(0,e.Z)(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);return"Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r?Array.from(n):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?(0,e.Z)(n,t):void 0}}}},function(n){n.O(0,[636,774,888,179],(function(){return t=2210,n(n.s=t);var t}));var t=n.O();_N_E=t}]);