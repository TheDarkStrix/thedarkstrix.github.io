(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[59],{26827:function(e,s,n){"use strict";n.r(s),n.d(s,{__N_SSP:function(){return x},default:function(){return _}});var t=n(85893),a=n(67294),r=n(809),i=n.n(r),c=n(92447),o=n(9669),u=n.n(o),d=n(68421),l=n(85357),h=n.n(l);function f(){var e=(0,a.useState)(!0),s=e[0],n=e[1],r=(0,a.useState)(!1),o=r[0],l=r[1],f=(0,a.useState)(null),w=f[0],m=f[1],x=(0,a.useState)(!0),_=x[0],p=x[1],g=(0,a.useState)(""),v=g[0],P=g[1],N=(0,a.useState)(""),S=N[0],j=N[1],b=(0,a.useState)(""),k=b[0],C=b[1],y=(0,a.useState)(null),E=y[0],Z=y[1];function O(e){var s=e.target,n=s.name,t=s.value;if(e.preventDefault(),w)m(null);else{switch(n){case"oldPassword":P(t);break;case"newPassword":j(t);break;case"confirmPassword":C(t)}B()}}function B(){!w||E.firstName==name&&E.bio==bio?p(!1):p(!0)}function F(){return(F=(0,c.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w&&(m(!1),l(!1)),""!=v&&""!=S&&""!=k){e.next=5;break}return m("Password(s) cannot be empty"),o&&l(!1),e.abrupt("return");case 5:if(!(v.length<6&&S<6&&k<6)){e.next=9;break}return m("Password(s) must be atleast 6 characters"),o&&l(!1),e.abrupt("return");case 9:if(S==k){e.next=13;break}return m("Passwords dont match"),o&&l(!1),e.abrupt("return");case 13:w||T(E.email,v,S);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e,s,n){if(1==o)return 0;u().post("https://api.examplesonly.com/v1/auth/changePassword",{email:e,password:s,newPassword:n}).then((function(e){l(!1)})).catch((function(e){e.response?(m(e.response.data.message),l(!1)):(m("Network Error"),l(!1))}))}return(0,a.useEffect)((function(){!function(){var e=JSON.parse(localStorage.getItem("User"));e&&Z(e),n(!1)}()}),[]),(0,t.jsx)(t.Fragment,{children:s?(0,t.jsx)(d.Z,{}):(0,t.jsxs)("div",{className:h().changePasswordContainer,children:[(0,t.jsxs)("div",{className:h().section,children:[(0,t.jsx)("div",{className:h().leftSection,children:"Old Password"}),(0,t.jsx)("div",{className:h().rightSection,children:(0,t.jsx)("input",{type:"text",name:"oldPassword",onChange:O})})]}),(0,t.jsxs)("div",{className:h().section,children:[(0,t.jsx)("div",{className:h().leftSection,children:"New Password"}),(0,t.jsx)("div",{className:h().rightSection,children:(0,t.jsx)("input",{type:"text",name:"newPassword",onChange:O})})]}),(0,t.jsxs)("div",{className:h().section,children:[(0,t.jsx)("div",{className:h().leftSection,children:"Confirm New Password"}),(0,t.jsx)("div",{className:h().rightSection,children:(0,t.jsx)("input",{type:"text",name:"confirmPassword",onChange:O})})]}),(0,t.jsxs)("div",{className:h().section,children:[(0,t.jsx)("div",{className:h().leftSection}),(0,t.jsx)("div",{className:h().rightSection,children:(0,t.jsxs)("div",{children:[w?(0,t.jsx)("div",{className:h().errors,children:w}):"",(0,t.jsx)("button",{className:h().submitBtn,onClick:function(){l(!0),function(){F.apply(this,arguments)}()},disabled:_,children:o?(0,t.jsx)(d.Z,{}):"Submit"})]})})]})]})})}var w=n(66457),m=n(66);var x=!0,_=(0,m.F)((function(){return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(w.Z,{children:(0,t.jsx)(f,{})})})}))},85365:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings/change-password",function(){return n(26827)}])},85357:function(e){e.exports={changePasswordContainer:"changePassword_changePasswordContainer__3a72S",section:"changePassword_section__39Pw-",leftSection:"changePassword_leftSection__3KMG7",rightSection:"changePassword_rightSection__1G_LW",submitBtn:"changePassword_submitBtn__1b4Zu",errors:"changePassword_errors__2h5yT"}}},function(e){e.O(0,[774,658,819,476,888,179],(function(){return s=85365,e(e.s=s);var s}));var s=e.O();_N_E=s}]);